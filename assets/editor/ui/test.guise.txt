button: {
    main: Style {
        .padding: 6,
        .background_color: #222,
        .border_color: #404,
        .border: 2,

        vars: {
            button_image: $("../images/button-blue.png")
        },

        selectors: {
            "&.hover", {
                vars: {
                    button_image: $("../images/button-blue-hover.png")
                }
            },
            "&.pressed", {
                vars: {
                    button_image: $("../images/button-blue-pressed.png")
                }
            },
            "&.disabled", {
                vars: {
                    button_image: $("../images/button-blue-disabled.png")
                }
            }
        }
    }

    background: Style {
        display: .grid
    }

    background-patch: Style {
        background-image: ${button-image},
        selectors: {
            ".disabled > * > &": {}
        }
    },
}

obs-button-green: Style {
    vars: {
        button-image: $("../images/button-green.png")
    }
}

obs_splitter: Style {
    .display: flex,
    .width: 7,
    .align_items: center,
    .justify_items: center,
    .justify_content: center,
    .background_color: #202020
}

obs-splitter-thumb: {
    "width": 3,
    "height": "20%",
    "justify_self": "center",
    "background_color": "#444444"
},

"main-panel": {
    "flex-grow": 1
},

"sub-panel": {
    "display": "flex",
    "flex-direction": "column",
    "gap": 6,
    "padding": 6,
    "background-color": "#22f"
}

main: Template() Element {
    styles: [
        $("#styles/main-panel"),
        Style {
            display: "flex",
            flex-direction: "row",
            position: "absolute",
            left: 0,
            top: 0,
            right: 0,
            bottom: 10
        }
    ],
    children: [
        Element {
            id: "left",
            "styles": [
                $("#styles/sub-panel"),
                Style {
                    width: 200,
                    background-image: "asset(editor/icons/building.png)",
                    background-color: "#fff"
                },
            ],
            children: [
                "Hello, world!"
                DemoButton {
                    children: [
                        "New Game..."
                    ]
                }
            ]
        },
        VSplitter {
            id: "left"
        },
        Element {
          controller: "ViewportInsetController",
          style: [
              Style {
                  flex: 1,
                  width: 30
              }
          ]
        },
        VSplitter {
          id: "right"
        },
        Element {
            "styles": [
                $("#styles/sub-panel"),
            ],
        }
    ]
}

VSplitter: Template(
  id: string?,
) Element {
    id: ${id},
    styles: $("#styles/obs-splitter"),
    children: [
        Element {
            styles: $("#styles/obs-splitter-thumb")
        }
    ]
}

DemoButton: Template(
    id: string?
    children: Node
) Element {
    style: $("#/button/main"),
    children: ${children}
}

DemoCounter: Template() Element {
    controller: CounterController,
}
